@import "../../../../variables";

.preview {
	position: relative;
	width: calc(50vh + 20%);
	perspective: 150vh;

	margin-bottom: 60px;
	margin-left: 70px;

	@media (max-aspect-ratio: 16 / 11) {
		margin-bottom: 40px;
	}

	@media (orientation: portrait) {
		width: calc(74vw + 20%);
	}

	.desktop {
		@keyframes prevScreenHover {
			0% {
				box-shadow: rgba(255, 255, 255, 0.5) 0 0 15px 12px;
			}
			100% {
				box-shadow: rgba(255, 255, 255, 0.5) 0 0 10px 15px;
			}
		}
		position: relative;

		transition: 0.5s ease;
		transform-origin: center;
		transform: rotateY(35deg) scale(80%);

		& > svg {
			display: block;
			width: 100%;
			object-fit: contain;
		}

		@media (hover: none) {
			transform: none;
		}
		&:hover {
			transform: none;

			.screen {
				overflow-y: overlay;
				animation: prevScreenHover 0.6s ease-in-out infinite alternate;
			}
		}
		&:hover ~ .tablet {
			transform: translate(300%, 50%) scale(300%);
			opacity: 0;
			transition: 0.5s ease;
		}
		&:hover ~ .phone {
			transform: translate(300%, 50%) scale(300%);
			opacity: 0;
			transition: 0.5s ease;
		}

		.screen {
			position: absolute;
			width: 90%;
			height: 66.5%;
			top: 5.6%;
			left: 4.9%;

			overflow: hidden;
			box-shadow: 0px 0px 6px 0px rgba(30, 52, 69, 0.87) inset;

			img {
				width: 100%;
			}

			&::-webkit-scrollbar {
				width: 7px;
				background-color: rgba(255, 255, 255, 0.233);
			}
			&::-webkit-scrollbar-thumb {
				background-color: rgba(255, 255, 255, 0.836);
				border-radius: 5px;
				border: solid 1px rgba(0, 0, 0, 0.541);
			}

			@media (hover: none) {
				overflow: overlay;
			}

			.btn {
				@keyframes prev-btn {
					0%,
					100% {
						box-shadow: 0 0 4px 1px $color2;
					}
					50% {
						box-shadow: 0 0 4px 3px $color2;
					}
				}
				position: absolute;

				border-radius: 8px;
				background: transparent;

				transition: 0.3s ease;
				animation: prev-btn 1s ease infinite;

				&:hover {
					animation: none;
					box-shadow: 0 0 5px 5px $color2;
				}
				&:active {
					animation: none;
					box-shadow: 0 0 4px 3px $color2;
				}
			}

			a {
				display: block;
				width: 100%;
				height: 100%;
				cursor: default;
			}
		}
	}

	.tablet {
		position: absolute;
		width: 17%;
		bottom: 9%;
		right: 16%;

		@media (hover: none) {
			display: none;
		}

		transition: 0.5s 0.3s ease;

		img {
			display: block;
			width: 100%;
			object-fit: contain;
		}
		.screen {
			position: absolute;
			width: 89%;
			height: 81%;
			top: 10%;
			left: 6%;

			background: url("https://images.wallpaperscraft.ru/image/single/doroga_asfalt_pole_zelenyy_derevya_gory_zamok_45628_1920x1080.jpg")
				0 0 / cover no-repeat;

			box-shadow: 0px 0px 6px 0px rgba(30, 52, 69, 0.87) inset;

			a {
				display: block;
				width: 100%;
				height: 100%;
			}
		}
	}

	.phone {
		z-index: 1;
		position: absolute;
		width: 10%;
		bottom: 8%;
		right: 29%;

		@media (hover: none) {
			display: none;
		}

		transition: 0.5s 0.3s ease;

		img {
			display: block;
			width: 100%;
			object-fit: contain;
		}

		.screen {
			position: absolute;
			width: 87%;
			height: 76%;
			top: 11%;
			left: 7%;

			background: url("https://images.wallpaperscraft.ru/image/single/doroga_asfalt_pole_zelenyy_derevya_gory_zamok_45628_1920x1080.jpg")
				0 0 / cover no-repeat;

			box-shadow: 0px 0px 6px 0px rgba(30, 52, 69, 0.87) inset;

			a {
				display: block;
				width: 100%;
				height: 100%;
			}
		}
	}
}
